
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>server.logic.routing package &#8212; Runamic Server 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="server.static package" href="server.static.html" />
    <link rel="prev" title="server.logic.projection package" href="server.logic.projection.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="server-logic-routing-package">
<h1>server.logic.routing package<a class="headerlink" href="#server-logic-routing-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-server.logic.routing.compress">
<span id="server-logic-routing-compress-module"></span><h2>server.logic.routing.compress module<a class="headerlink" href="#module-server.logic.routing.compress" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.logic.routing.compress.decode">
<code class="descclassname">server.logic.routing.compress.</code><code class="descname">decode</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.compress.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes the string generated by encode back into an integer</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.compress.encode">
<code class="descclassname">server.logic.routing.compress.</code><code class="descname">encode</code><span class="sig-paren">(</span><em>integer</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.compress.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes an (very large) integer into a string.</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.compress.from_string">
<code class="descclassname">server.logic.routing.compress.</code><code class="descname">from_string</code><span class="sig-paren">(</span><em>graph</em>, <em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.compress.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a rod from a graph and tag.</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.compress.into_string">
<code class="descclassname">server.logic.routing.compress.</code><code class="descname">into_string</code><span class="sig-paren">(</span><em>graph</em>, <em>rod</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.compress.into_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a list of indices into a tag.</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.config">
<span id="server-logic-routing-config-module"></span><h2>server.logic.routing.config module<a class="headerlink" href="#module-server.logic.routing.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="server.logic.routing.config.RoutingConfig">
<em class="property">class </em><code class="descclassname">server.logic.routing.config.</code><code class="descname">RoutingConfig</code><a class="headerlink" href="#server.logic.routing.config.RoutingConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#server.logic.routing.config.RoutingConfig" title="server.logic.routing.config.RoutingConfig"><code class="xref py py-class docutils literal"><span class="pre">server.logic.routing.config.RoutingConfig</span></code></a></p>
<p>The class containing all possible config options for routing.</p>
<p>Keep it up to date with server.config.DEFAULT_ROUTING_CONFIG</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.config.from_dict">
<code class="descclassname">server.logic.routing.config.</code><code class="descname">from_dict</code><span class="sig-paren">(</span><em>default</em>, <em>dictionary</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.config.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a routing configuration from a dictionary</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.directions">
<span id="server-logic-routing-directions-module"></span><h2>server.logic.routing.directions module<a class="headerlink" href="#module-server.logic.routing.directions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="server.logic.routing.directions.Direction">
<em class="property">class </em><code class="descclassname">server.logic.routing.directions.</code><code class="descname">Direction</code><a class="headerlink" href="#server.logic.routing.directions.Direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#server.logic.routing.directions.Direction" title="server.logic.routing.directions.Direction"><code class="xref py py-class docutils literal"><span class="pre">server.logic.routing.directions.Direction</span></code></a></p>
<p>Class for serializing into the direction type</p>
<dl class="staticmethod">
<dt id="server.logic.routing.directions.Direction.from_index">
<em class="property">static </em><code class="descname">from_index</code><span class="sig-paren">(</span><em>graph</em>, <em>index</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.directions.Direction.from_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="server.logic.routing.directions.DirectionDict">
<em class="property">class </em><code class="descclassname">server.logic.routing.directions.</code><code class="descname">DirectionDict</code><a class="headerlink" href="#server.logic.routing.directions.DirectionDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.directions.get_direction">
<code class="descclassname">server.logic.routing.directions.</code><code class="descname">get_direction</code><span class="sig-paren">(</span><em>node_angle</em>, <em>threshold</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.directions.get_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return right or left depending on the angle</p>
<p>Function args:
node_angle – list of three points forming an angle.
threshold – minimum (-maximum) value of the sine of the angle</p>
<blockquote>
<div>in order to count</div></blockquote>
<p>left, right – return values in case of success</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.directions.into_directions">
<code class="descclassname">server.logic.routing.directions.</code><code class="descname">into_directions</code><span class="sig-paren">(</span><em>graph</em>, <em>nodelist</em>, <em>dirdict</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.directions.into_directions" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotate a nodelist with directions</p>
<p>Returns: list of coordinates with direction metadata.</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.poison">
<span id="server-logic-routing-poison-module"></span><h2>server.logic.routing.poison module<a class="headerlink" href="#module-server.logic.routing.poison" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.logic.routing.poison.poison_graph">
<code class="descclassname">server.logic.routing.poison.</code><code class="descname">poison_graph</code><span class="sig-paren">(</span><em>graph</em>, <em>venomous_path</em>, <em>config</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.poison.poison_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Poisons a graph</p>
<p>Function args:
graph – the graph
venomous_path – the path from which the poison originates
config – routing configuration</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.ratings">
<span id="server-logic-routing-ratings-module"></span><h2>server.logic.routing.ratings module<a class="headerlink" href="#module-server.logic.routing.ratings" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.logic.routing.ratings.add_rating_list">
<code class="descclassname">server.logic.routing.ratings.</code><code class="descname">add_rating_list</code><span class="sig-paren">(</span><em>graph</em>, <em>edges</em>, <em>rating</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.ratings.add_rating_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a rating to an edge in the database. If an edge does not exist, it is created.</p>
<p>Function args:
graph – the graph
edges – the edges which will get a rating
rating – the score which is passed</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.routing">
<span id="server-logic-routing-routing-module"></span><h2>server.logic.routing.routing module<a class="headerlink" href="#module-server.logic.routing.routing" title="Permalink to this headline">¶</a></h2>
<p>This file implements the Lightning Rod algorithm for route generation</p>
<dl class="docutils">
<dt>The algorithm consists of three steps:</dt>
<dd><ol class="first last arabic simple">
<li>A “rod” is generated, a shortest path between the starting node and a random
node at a set distance.</li>
<li>Various routes are generated from the starting node towards the rod. When
they collide, the path formed by the lower part of the rod and the generated
path is tested on length. If the length satisfies the total length constraint,
it is added to the list of possible results.</li>
<li>The best path, using other cost metrics, is selected.</li>
</ol>
</dd>
</dl>
<dl class="function">
<dt id="server.logic.routing.routing.annotate_rod">
<code class="descclassname">server.logic.routing.routing.</code><code class="descname">annotate_rod</code><span class="sig-paren">(</span><em>rod</em>, <em>graph</em>, <em>distance_fn</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.routing.annotate_rod" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with information about distances from the rod to the starting node.</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.routing.close_rod">
<code class="descclassname">server.logic.routing.routing.</code><code class="descname">close_rod</code><span class="sig-paren">(</span><em>graph</em>, <em>start_node</em>, <em>rod</em>, <em>routing_config</em>, <em>alt_rod=None</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.routing.close_rod" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a closed route given a rod</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.routing.generate_rod">
<code class="descclassname">server.logic.routing.routing.</code><code class="descname">generate_rod</code><span class="sig-paren">(</span><em>graph</em>, <em>start_node</em>, <em>routing_config</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.routing.generate_rod" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random rod.</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.tests">
<span id="server-logic-routing-tests-module"></span><h2>server.logic.routing.tests module<a class="headerlink" href="#module-server.logic.routing.tests" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="server.logic.routing.tests.TestEncodeDecode">
<em class="property">class </em><code class="descclassname">server.logic.routing.tests.</code><code class="descname">TestEncodeDecode</code><span class="sig-paren">(</span><em>methodName=’runTest’</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.tests.TestEncodeDecode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.test.testcases.TestCase</span></code></p>
<p>Test whether encoding or decoding actually works</p>
<dl class="method">
<dt id="server.logic.routing.tests.TestEncodeDecode.test_encode_decode">
<code class="descname">test_encode_decode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.tests.TestEncodeDecode.test_encode_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="server.logic.routing.tests.TestPoison">
<em class="property">class </em><code class="descclassname">server.logic.routing.tests.</code><code class="descname">TestPoison</code><span class="sig-paren">(</span><em>methodName=’runTest’</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.tests.TestPoison" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.test.testcases.TestCase</span></code></p>
<p>Test whether poisoning doesn’t change the graph</p>
<dl class="method">
<dt id="server.logic.routing.tests.TestPoison.poison">
<code class="descname">poison</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.tests.TestPoison.poison" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="server.logic.routing.tests.TestUtil">
<em class="property">class </em><code class="descclassname">server.logic.routing.tests.</code><code class="descname">TestUtil</code><span class="sig-paren">(</span><em>methodName=’runTest’</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.tests.TestUtil" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.test.testcases.TestCase</span></code></p>
<p>Test whether the ground and unground functions work</p>
<dl class="method">
<dt id="server.logic.routing.tests.TestUtil.test_ground_unground">
<code class="descname">test_ground_unground</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.tests.TestUtil.test_ground_unground" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-server.logic.routing.util">
<span id="server-logic-routing-util-module"></span><h2>server.logic.routing.util module<a class="headerlink" href="#module-server.logic.routing.util" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="server.logic.routing.util.RandomChooser">
<em class="property">class </em><code class="descclassname">server.logic.routing.util.</code><code class="descname">RandomChooser</code><a class="headerlink" href="#server.logic.routing.util.RandomChooser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Deprecated</p>
<dl class="method">
<dt id="server.logic.routing.util.RandomChooser.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.util.RandomChooser.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="server.logic.routing.util.RandomChooser.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>weight</em>, <em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.util.RandomChooser.push" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="server.logic.routing.util.ground">
<code class="descclassname">server.logic.routing.util.</code><code class="descname">ground</code><span class="sig-paren">(</span><em>visited_node_dict</em>, <em>end_node</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.util.ground" title="Permalink to this definition">¶</a></dt>
<dd><p>‘grounds’ a rod: it returns a list of nodes given a dict of nodes pointing to their precessor.</p>
<p>For example:
{2 : 1, 3 : 2, 5 : 3}, 5 -&gt; [1, 2, 3, 5]</p>
</dd></dl>

<dl class="function">
<dt id="server.logic.routing.util.unground">
<code class="descclassname">server.logic.routing.util.</code><code class="descname">unground</code><span class="sig-paren">(</span><em>visited_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#server.logic.routing.util.unground" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the inverse ‘grounding’ operation</p>
</dd></dl>

</div>
<div class="section" id="module-server.logic.routing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-server.logic.routing" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">server.logic.routing package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.compress">server.logic.routing.compress module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.config">server.logic.routing.config module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.directions">server.logic.routing.directions module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.poison">server.logic.routing.poison module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.ratings">server.logic.routing.ratings module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.routing">server.logic.routing.routing module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.tests">server.logic.routing.tests module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing.util">server.logic.routing.util module</a></li>
<li><a class="reference internal" href="#module-server.logic.routing">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">server</a><ul>
  <li><a href="server.html">server package</a><ul>
  <li><a href="server.logic.html">server.logic package</a><ul>
      <li>Previous: <a href="server.logic.projection.html" title="previous chapter">server.logic.projection package</a></li>
      <li>Next: <a href="server.static.html" title="next chapter">server.static package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/server.logic.routing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Groep16.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/server.logic.routing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>